import{j as e,d as h,e as y,f as E,r as u,B as m,C as f}from"./index-DeWHmX4M.js";import{G as k}from"./iconBase-D_B9NlrN.js";const _="_image_1g8yh_1",D={image:_},F=({image:r,name:t})=>e.jsx("div",{className:D.image,children:e.jsx("img",{src:r,alt:t})});function S(r){return k({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(r)}const b="_details_3d4vb_1",C={details:b},I=({name:r,date:t,category:a,tickets:c,price:o,description:n,setIsEditing:s})=>{const i=new Date(t).toLocaleDateString(),d=new Date(t).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return e.jsxs("div",{className:C.details,children:[e.jsx("h1",{children:r}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date:"})," ",i]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Time:"})," ",d]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Category:"})," ",a]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Tickets Available:"})," ",c]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Price:"})," ",o," UAH"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Description:"})," ",n]}),e.jsxs("button",{onClick:()=>s(),children:[e.jsx(S,{}),"Edit the event"]})]})},P="_eventPage_irk1g_1",w={eventPage:P},q="_editForm_nsgje_1",L={editForm:q},N=({name:r,category:t,tickets:a,price:c,description:o,image:n,handleChange:s,handleSave:i})=>e.jsxs("form",{onSubmit:d=>{d.preventDefault(),i()},className:L.editForm,children:[e.jsx("input",{type:"text",name:"name",value:r,onChange:s,required:!0}),e.jsx("input",{type:"text",name:"category",value:t,onChange:s,required:!0}),e.jsx("input",{type:"number",name:"tickets",value:a,onChange:s,required:!0}),e.jsx("input",{type:"text",name:"price",value:c,onChange:s,required:!0}),e.jsx("input",{type:"text",name:"image",value:n,onChange:s}),e.jsx("textarea",{name:"description",value:o,onChange:s,required:!0}),e.jsx("button",{type:"submit",children:"Save"})]}),z=()=>{const{eventID:r}=h(),{data:t,isError:a}=y(r),[c]=E(),[o,n]=u.useState(!1),[s,i]=u.useState({id:r||"",name:"",date:"",category:"",tickets:0,price:"",image:"",description:""}),d=()=>{t&&r&&(n(!0),i({id:r,name:t.name,date:t.date,category:t.category,tickets:t.tickets,price:t.price,image:t.image,description:t.description}))},g=l=>{const{name:x,value:j}=l.target;i(v=>({...v,[x]:j}))},p=async()=>{if(!r){m.error("Event ID is missing.");return}try{await c(s).unwrap(),n(!1),m.success("Event edited successfully!")}catch(l){l instanceof Error?m.error(`Error! ${l.message}`):m.error("An unknown error occurred.")}};return a?m.error("Oops! Seems this event not exist"):e.jsx(f,{children:t&&e.jsxs("div",{className:w.eventPage,children:[e.jsx(F,{name:t.name,image:t.image}),o?e.jsx(N,{name:s.name||"",date:s.date||"",category:s.category||"",tickets:s.tickets||0,price:s.price||"",image:s.image||"",description:s.description||"",handleChange:g,handleSave:p}):e.jsx(I,{name:t.name,description:t.description,date:t.date,category:t.category,tickets:t.tickets,price:t.price,setIsEditing:d})]})})};export{z as default};
