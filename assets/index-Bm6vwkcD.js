import{j as e,u as f,L as g,B as u,a as b,r as y,R as p,C as j}from"./index-DeWHmX4M.js";import{G as _}from"./iconBase-D_B9NlrN.js";const k="_tableHeader_z7i1u_1",v="_filter_z7i1u_19",n={tableHeader:k,filter:v},w=({handleSort:t})=>e.jsx("thead",{className:n.tableHeader,children:e.jsxs("tr",{children:[e.jsx("th",{className:n.filter,onClick:()=>t("name"),title:"Сортувати за ім'ям",children:"Назва події"}),e.jsx("th",{className:n.filter,onClick:()=>t("date"),title:"Сортувати за датою",children:"Дата та час"}),e.jsx("th",{className:n.filter,onClick:()=>t("category"),title:"Сортувати за категорією",children:"Категорія"}),e.jsx("th",{className:n.filter,onClick:()=>t("tickets"),title:"Сортувати за квитками",children:"Кількість квитків"}),e.jsx("th",{className:n.filter,onClick:()=>t("price"),title:"Сортувати за ціною",children:"Вартість"}),e.jsx("th",{children:"Дії"})]})}),C="_table_1wqkm_1",E={table:C},N="_tableRow_q7xai_1",H="_deleteBtn_q7xai_16",m={tableRow:N,deleteBtn:H};function L(t){return _({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(t)}const R=({eventName:t,date:o,category:r,ticketCount:d,price:i,id:a})=>{const[s]=f(),l=new Date(o).toLocaleString("default",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),h=async()=>{try{await s(a).unwrap(),u.success("X Event deleted successfully!")}catch(c){c instanceof Error?u.error(`Error! ${c.message}`):u.error("An unknown error occurred.")}};return e.jsxs("tr",{className:m.tableRow,children:[e.jsx("td",{children:e.jsx(g,{to:`events/${a}`,children:t})}),e.jsx("td",{children:l}),e.jsx("td",{children:r}),e.jsx("td",{children:d}),e.jsx("td",{children:i}),e.jsx("td",{children:e.jsx("button",{className:m.deleteBtn,onClick:()=>h(),title:"Видалити івент",children:e.jsx(L,{style:{width:"20px",height:"20px"}})})})]})},z=()=>{const{data:t,isLoading:o}=b(),[r,d]=y.useState(null),i=p.useMemo(()=>{if(!r||!t)return t;const s=[...t];return s.sort((l,h)=>{const c=l[r.key],x=h[r.key];return c<x?r.direction==="asc"?-1:1:c>x?r.direction==="asc"?1:-1:0}),s},[t,r]),a=s=>{let l="asc";r&&r.key===s&&r.direction==="asc"&&(l="desc"),d({key:s,direction:l})};return!o&&!t||(t==null?void 0:t.length)===0?e.jsx(j,{children:e.jsx("h2",{children:"No events available."})}):e.jsx(j,{children:e.jsxs("table",{className:E.table,children:[e.jsx(w,{handleSort:a}),e.jsx("tbody",{children:i==null?void 0:i.map(s=>e.jsx(R,{eventName:s.name,date:s.date,category:s.category,ticketCount:s.tickets,price:s.price,id:s.id},s.id))})]})})},D=()=>e.jsx(e.Fragment,{children:e.jsx(z,{})});export{D as default};
